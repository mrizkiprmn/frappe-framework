#apiVersion: batch/v1
#kind: Job
#metadata:
#  name: backup
#  namespace: frapper
#spec:
#  backoffLimit: 0
#  template:
#    spec:
#      containers:
#      - name: backup
#        image: frappe/erpnext-worker:v13.32.0
#        imagePullPolicy: IfNotPresent
#        command: ["bash", "-c"]
#        args:
#          - >
#            bench --site=$(SITE_NAME)
#            backup --with-files;
#            backup;
#        env:
#         - configMapRef:
#              name: frappe-cfg
#        volumeMounts:
#          - name: sites-dir
#            mountPath: /home/frappe/frappe-bench/sites
#          - name: assets-cache
#            mountPath: /home/frappe/frappe-bench/sites/assets
#          - name: logs
#            mountPath: /home/frappe/frappe-bench/logs
#      restartPolicy: Never
#      volumes:
#        - name: assets-cache
#        - name: sites-dir
#      volumes:
#        - name: sites-dir
#          persistentVolumeClaim:
#            claimName: frappe-data
#            readOnly: false
#        - name: logs
#          persistentVolumeClaim:
#            claimName: frappe-logs
#            readOnly: false
#